<!DOCTYPE html>
<html>
<head>
  <title>Bootpopup - Popup dialog boxes for Bootstrap5</title>
		
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="UTF-8">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/javascript.min.js"></script>

  <script src="dist/bootpopup.js"></script>

</head>
<body class="pt-4">

    <nav class="navbar navbar-expand-lg fixed-top bg-body-tertiary">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a class="nav-link" href="#">Home</a>
                    <a class="nav-link" href="https://github.com/vseryakov/bootpopup/blob/master/README.md#content">API</a>
                </div>
                <a class="nav-link" href="https://github.com/vseryakov/bootpopup" target=_blank>
                    <img src="https://github.githubassets.com/favicons/favicon.png" />
                    GitHub
                </a>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
     <p>
        <b>Bootpopup</b> is a JavaScript library intended to simplify the task of creating
        <a href="http://getbootstrap.com/javascript/#modals">Bootstrap modals</a>.
    </p>

    <h1 id="examples">Examples</h1>

    <pre><code id="code-alert-1" class="js">bootpopup.alert("You are now alerted by this message!");</code></pre>
    <p><button id="button-alert-1" class="btn btn-primary" >Run example</button></p><hr>

    <script type="text/javascript">
    window.$ = (selector) => (document.querySelector(selector));
    window.$$ = (id, func) => {
        $("#button-" + id).onclick = func;
        $("#code-" + id).textContent = func.toString().trim().replace(/^\(\) => \{|\}$/g, "").trim();
    }
    var alert1 = () => { bootpopup.alert("You are now alerted by this message!", () => { console.log("closed") }) };
    $$("alert-1", alert1);
    </script>


    <pre><code id="code-confirm-1" class="js"></code></pre>
    <p><button id="button-confirm-1" class="btn btn-primary">Run example</button></p><hr>
			
    <script type="text/javascript">
    var confirm1 = () => {
        bootpopup.confirm("Do you confirm this message with a custom title?", (yes) => {
            alert("Confirmed=" + yes)
        })
    }
    $$("confirm-1", confirm1);
    </script>


    <pre><code id="code-prompt-1" class="js">bootpopup.prompt("Name");</code></pre>
    <p><button id="button-prompt-1" class="btn btn-primary">Run example</button></p><hr>
			
    <script type="text/javascript">
    var prompt1 = () => { bootpopup.prompt("Text", (data) => { alert(data) }) }
    $$("prompt-1", prompt1);
    </script>


    <p>Multiple popups can be used at the same time</p>
    <pre><code id="code-custom-1" class="js"></code></pre>
    <p><button id="button-custom-1" class="btn btn-primary">Run example</button></p><hr>

    <script type="text/javascript">
    var custom1 = () => {
        var popup = bootpopup({
            title: "Add image",
            size: "large",
            show_close: false,
            size_label: "col-sm-2",
            size_input: "col-sm-10",
            content: [
                { p: { text: "Insert image info here:" }},
                { input: { type: "text", label: "Title", name: "title", placeholder: "Description for image", value: "Common kingfisher" }},
                { url: { label: "Link", name: "link", placeholder: "Hyperlink for image", value: "https://upload.wikimedia.org/wikipedia/commons/d/d2/Eisvogel_kingfisher.jpg" }},
                { checkbox: { label: "Add border to the image", name: "border", switch: 1 }},
                { button: { name: "button", value: "Open image", class: "btn btn-info", click: () => {
                    var d = popup.data();
                    bootpopup({
                        title: d.title,
                        content: [ { img: {src: d.obj.link, width: "100%", id: "image" }} ],
                        before: () => {
                            if (d.obj.border)
                                popup.modal.getElementById('image').classList.add("rounded-5");
                        }
                    });
                }
            }}
        ],
        buttons: ["ok", "cancel"],
        before: function(window) { console.log("Before"); },
        dismiss: function(event) { console.log("Dismiss"); },
        cancel: function(data, array, event) { alert("Cancel"); },
        ok: function(data, array, event) { alert("OK\n" + JSON.stringify(data)); },
        complete: function() { console.log("Complete"); },
    });
    }
    $$("custom-1", custom1);
    </script>


    <p>If the provided functionality is not enough for your case, you can simply mix your HTML</p>
    <pre><code id="code-custom-2" class="js"></code></pre>
    <p><button id="button-custom-2" class="btn btn-primary">Run example</button></p><hr>

    <script type="text/javascript">
    var custom2 = () => {
        var popup = bootpopup({
            title: "Custom HTML with validation",
            alert: 1,
            size: "lg",
            content: [
                '<h1>BootPopup</h1>',
                '<p class="lead">Popup dialog boxes for Bootstrap.</p>',
                '<b>BootPopup</b> is a JavaScript library intended to simplify the task of creating <a href="#">Bootstrap modals</a>',
                '<p class="lead">Check out the <a href="#examples" data-scrollto="#examples">examples</a> to see how easy it is!</p>',
                ,
                { h5: { text: 'Give us a rate 1-10:',
                        class: "d-flex justify-content-between border-bottom py-2",
                        class_append: "small text-muted",
                        text_append: "required"
                } },
                { number: { label: "Rate", name: "rate", class_group: "row my-3 py-1 border-bottom" }},
                { select: { label: "A select", name: "select", options: { a:"A", b:"B", c:"C" }}},
                { checkboxes: { label: "Checkboxes", options: [{ name: "c1", label:"A" }, { name: "c2", label: "B" }, { name: "c3", label: "C"} ]}},
                { radios: { label: "Radios", name: "radios", options: { a:"A", b:"B", c:"C", d: { label: "SW", switch: 1 } } }}
            ],
            buttons: ["ok", "cancel"],
            text_ok: "Submit",
            cancel: function(data, array, event) { alert("Cancel"); },
            ok: (data, array) => {
                if (!data.rate) return popup.showAlert("rate is required")
                alert("OK\n" + JSON.stringify(data));
            },
        });
    }
    $$("custom-2", custom2);
    </script>

    <p>Check input and control the popup manually</p>
    <pre><code id="code-tabs-1" class="js"></code></pre>
    <p><button id="button-tabs-1" class="btn btn-primary">Run example</button></p><hr>

    <script type="text/javascript">
    var tabs1 = () => {
    var content = [
        { input: { name: "name", label: "Name:", tab_id: "gen", floating: 1 } },
        { email: { name: "email", label: "Email:", tab_id: "gen", floating: 1 } },
        { input: { name: "street", label: "Street:",  tab_id: "addr" } },
        { input: { name: "city", label: "City:", tab_id: "addr" } },
        { select: { name: "state", label: "State",  tab_id: "addr", caption: "States", options: ["CA","NY","VA","TX"] } },
        { number: { name: "zip", label: "Zip Code:", tab_id: "addr" } },
        { input: { name: "country", label: "Country:", tab_id: "addr" } },
        { p: { class: "text-muted", text: "Copy your social media handle to add to your contact card.", tab_id: "social" } },
        { input: { name: "facebook", label: "<i class='fab fa-facebook'></i> Facebook:", tab_id: "social" } },
        { input: { name: "twitter", label: "<i class='fab fa-twitter'></i> Twitter:",  tab_id: "social",
                   text_input_button: 'Show',
                   attrs_input_button: { click: (ev) => {
                       var value = popup.modal.querySelector(ev.target.dataset.inputid)?.value;
                       if (value) window.open('https://x.com/' + value, "_blank")
                   } }
        } },
    ];

    var popup = bootpopup({
        title: "Contact",
        tabs: {
            gen: "General",
            addr: "Address",
            social: "Social Media",
        },
        alert: 1,
        size: "lg",
        horizontal: false,
        content: content,
        buttons: ["cancel", "Save"],
        Save: function(d, f) {
            if (d.email && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,16}$/i.test(d.email)) {
                return popup.showAlert("Invalid email address");
            }
            if (d.street || d.city || d.state || d.zip || d.country) {
                if (!d.street || !d.state) {
                    return popup.showAlert("Address requires street and state");
                }
            }
            if (!d.name) {
                return popup.showAlert("Must include Name");
            }
            // simulate network save and close manually
            fetch("").then(async (res) => {
                popup.close();
            }).catch(err => {
                popup.showAlert(err);
            })
            return null;
        },
    });
    }
    $$("tabs-1", tabs1);
    </script>

    <p>Convenient buttons and dropdowns for more complex use cases</p>
    <pre><code id="code-list-1" class="js"></code></pre>
    <p><button id="button-list-1" class="btn btn-primary">Run example</button></p><hr>

    <script type="text/javascript">
    var list1 = () => {
        var popup = bootpopup({
        title: "List dropdowns",
        alert: 1,
        size: "lg",
        content: [
            { radio: {
                name: "type",
                label: "Type:",
                class_group: "row mb-0",
                input_label: "Standard",
                value: "STANDARD",
                switch: 1,
            } },
            { radio: {
                name: "type",
                label: " ",
                input_label: "Political",
                value: "POLITICAL",
                switch: 1,
            } },
            { textarea: {
                name: "msg",
                label: "Message",
                value: "Hi, can you take a short survey?",
                placeholder: "choose a placeholder form the dropdown",
                list_input_button: [
                    "Hi, can you take a short survey?",
                    "Hi, what is your opinion about ...?",
                    "Hi, thank you for your response.",
                ]
            } },
            { input: {
                name: "tags",
                label: "Tags",
                class_label: "text-decoration-underline",
                text_suffix: "comma separated case-sensitive tags",
                list_input_tags: ["good", "accepted", "rejected"],
            } },
        ],
        buttons: ["cancel", "Save"],
        Save: (d) => {
            alert(JSON.stringify(d));
        },
    });
    }

    $$("list-1", list1);
    </script>

  </div>
  <script>hljs.highlightAll();</script>

</body>
</html>
